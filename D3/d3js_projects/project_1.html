<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>SVG</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<style>
svg { width: 320px; height: 240px; border: 1px solid black; }
.bar { fill: orange; }
</style>
    </head>
    <body>

<h1>データに応じてグラフを表示</h1>
<h2>XMLファイルからデータを表示</h2>
<svg id="myGraph"></svg>

<script type="text/javascript">
d3.xml("mydata.xml", function(error, xmlRoot){
    var xmlData = xmlRoot.querySelectorAll("data");
    var salesRoot = xmlData[0];
    var salesData = salesRoot.querySelectorAll("sales");
    var dataSet = [];
    for (var i = 0; i < salesData.length; i++) {
        var d = salesData[i].firstChild.nodeValue;
        dataSet.push(d);
    }

    d3.select("#myGraph")
        .selectAll("rect")
        .data(dataSet)
        .enter()
        .append("rect")
        .attr("class", "bar")
        .attr("width", function (d, i) {
            return d;
        })
        .attr("height", 20)
        .attr("x", 0)
        .attr("y", function (d, i) {
            return i * 25;
        });

});
</script>
    </body>
</html>
