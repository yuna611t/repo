<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>ヒストグラム</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<style>
svg { width: 380px; height: 240px; border: 1px solid black; }
rect { fill: orange; }
</style>
    </head>
    <body>

<h1>ヒストグラム</h1>
<svg id="myGraph"></svg>

<script type="text/javascript">
d3.csv("hist.csv", function(error, data) {
    // SVG要素
    var svgWidth = 320;
    var svgHeight = 240;
    var svg = d3.select("#myGraph");
    // X座標/Y座標のオフセット
    var offsetX = 30;
    var offsetY = 20;
    // データセット
    // 度数分布表
    var histRange = 20; // 度数分布の範囲
    var dataSetTitle = [];
    for (var i = 0; i < histRange; i++) {
        dataSetTitle[i] = i;
    }
    var dataSet = [];
    for (var i = 0; i < histRange; i++) {
        if (data[0][i] === undefined) {
            data[0][i] = 0;
        }
        dataSet.push(data[0][i]);
    }

    function drawHist() {
        console.log(dataSet);
        svg.selectAll("rect")
            .data(dataSet)
            .enter()
            .append("rect")
            .attr("width", 10)
            .attr("height", function (d, i) {
                return d * 20;
            })
            .attr("x", function (d, i) {
                return i * 20  + 10;
            })
            .attr("y", function (d, i) {
                return svgHeight - d * 20;
            })
    }


    drawHist();


})


</script>
    </body>
</html>
