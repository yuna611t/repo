<!DOCTYPE html>
<html lang=ja>
<head>
	<meta charset="UTF-8">
	<title>D3 test</title>
	<script src="d3/d3.js" type="text/javascript"></script>
</head>
<body>
	<script type="text/javascript">
		var dataset = [];
		for (i = 0; i < 25; i++) {
			var data = Math.random() * 50;
			dataset[i] = data;
		}

		var w = 500;
		var h = 100;
		var barpadiing = 1;
		var svg = d3.select("body")
					.append('svg')
					.attr("width",w)
					.attr("height",h);
		svg.selectAll("rect")
			.data(dataset)
			.enter()
			.append("rect")
			.attr("x",function(d,i) {
				return i * (w / dataset.length);
			})
			.attr("y",function(d) {
				return h - d;
			})
			.attr("width",w / dataset.length - barpadiing)
			.attr("height",function(d) {
				return d * 4;
			})
			.attr("fill", function(d){
				return "rgb(0, 0, " + (Math.floor(d) * 10) + ")";
			});

	</script>

</body>
</html>