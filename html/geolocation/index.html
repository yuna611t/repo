<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Geolocation Test</title>
        <link rel="stylesheet" href="./css/master.css" media="screen" title="no title" charset="utf-8">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
<script type="text/javascript">
function getLocPos() {
    navigator.geolocation.getCurrentPosition(successCallback, errorCallback);

    function successCallback(position) {
        var gl_text = "緯度：" + position.coords.latitude + "<br>";
        gl_text += "経度：" + position.coords.longitude + "<br>";
        gl_text += "高度：" + position.coords.altitude + "<br>";
        gl_text += "緯度・経度の誤差：" + position.coords.accuracy + "<br>";
        gl_text += "高度の誤差：" + position.coords.altitudeAccuracy + "<br>";
        gl_text += "方角：" + position.coords.heading + "<br>";
        gl_text += "速度：" + position.coords.speed + "<br>";

        $('.result__geo').html(gl_text);
    }


    function errorCallback(error) {
        var err_msg = "";
        switch(error.code)
        {
        case 1:
          err_msg = "位置情報の利用が許可されていません";
          break;
        case 2:
          err_msg = "デバイスの位置が判定できません";
          break;
        case 3:
          err_msg = "タイムアウトしました";
          break;
        }
        $('.result__geo').html(err_msg);
    }
}

</script>


    </head>
    <body>

        <div class="button">
            <div class="button button__geo">
                <a href="#">Get Location</a>
            </div>
        </div>

        <div class="result">
            <div class="result result__geo">

            </div>
        </div>

        <script type="text/javascript">
            $('.button__geo').on('click', function(event){
                getLocPos();
            });
        </script>


    </body>
</html>
